# üß© SimpleTemplateEngine

**SimpleTemplateEngine** ‚Äî —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –Ω–∞ Python, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –≤—Å—Ç–∞–≤–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —É—Å–ª–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏ (`if`/`endif`). –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- `SimpleTemplateEngine` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞
- `template_text` ‚Äî —Å—Ç—Ä–æ–∫–∞-—à–∞–±–ª–æ–Ω —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏ —É—Å–ª–æ–≤–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏
- `data` ‚Äî —Å–ª–æ–≤–∞—Ä—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- `output.txt` ‚Äî —Ñ–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏

---

## üöÄ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
$ python template_engine.py
–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è: –ò–≤–∞–Ω
–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç (0‚Äì100): 86
```

üì§ –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å:

```
==== –†–ï–ó–£–õ–¨–¢–ê–¢ ====

–ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω!

–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 86 (–û—Ç–ª–∏—á–Ω–æ!)

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —Å–¥–∞–ª–∏ —Ç–µ—Å—Ç.

–í–∞—à–∏ —Ç–µ–≥–∏:

- python
- template
- if-support
```

---

## üîß –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–®–∞–±–ª–æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å—Ç–∞–≤–∫—É –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ —Å–ª–æ–≤–∞—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:

```text
–ü—Ä–∏–≤–µ—Ç, {{ name }}!
–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {{ score }} ({{ grade }})
```

üëâ –í—Å–µ `{{ –∫–ª—é—á }}` –∑–∞–º–µ–Ω—è—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏–∑ `context['–∫–ª—é—á']`.

### ‚úÖ –£—Å–ª–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏

–®–∞–±–ª–æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é `if/endif`:

```text
{{ if passed }}
–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —Å–¥–∞–ª–∏ —Ç–µ—Å—Ç.
{{ endif }}
```

üëâ –ë–ª–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `passed` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ ‚Äî `True`.

---

## üì¶ –ö–æ–¥

<details>
<summary>–û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥</summary>

```python
import re

class SimpleTemplateEngine:
    def __init__(self, template: str):
        self.template = template

    def render(self, context: dict) -> str:
        lines = self.template.splitlines()
        output = []
        skip_block = False

        for line in lines:
            if_match = re.match(r"\s*{{\s*if\s+(\w+)\s*}}", line)
            endif_match = re.match(r"\s*{{\s*endif\s*}}", line)

            if if_match:
                key = if_match.group(1)
                skip_block = not context.get(key, False)
                continue

            elif endif_match:
                skip_block = False
                continue

            if skip_block:
                continue

            line = re.sub(r"{{\s*(\w+)\s*}}", lambda m: str(context.get(m.group(1), "")), line)
            output.append(line)

        return "\n".join(output)
```

</details>

---

## üì• –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ä—É—á–Ω—É—é –≤–≤–æ–¥–∏—Ç –∏–º—è –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞:

```python
name = input("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è: ")
score = int(input("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç (0‚Äì100): "))
```

–¢–∞–∫–∂–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å –æ—Ü–µ–Ω–∫–∏:

```python
if score >= 85:
    grade = "–û—Ç–ª–∏—á–Ω–æ!"
elif score >= 70:
    grade = "–•–æ—Ä–æ—à–æ"
elif score >= 50:
    grade = "–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ"
else:
    grade = "–ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ"
```

---

## üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ò—Ç–æ–≥ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–∞–π–ª `output.txt`:

```python
with open("output.txt", "w", encoding="utf-8") as f:
    f.write(result)
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Jinja2 Docs](https://jinja.palletsprojects.com) ‚Äî –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä Python
- [Python](http://server.aesc.msu.ru/materials/PYTHON/pythonworldru.pdf) ‚Äî –≥–∞–π–¥ –ø–æ Python


